<%- include('../../partials/header'); %>




    <div class="container-fluid dashboard-content">

        <!-- start page title -->
        <div class="row">
            <div class="col-12">
                <div class="page-title-box">
                    <h4 class="page-title">
                        <%= title %>
                    </h4>
                </div>
            </div>
        </div>
        <!-- end page title -->


        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                <div class="card">
                    <div class="card-body">
                        <div id="scroll-horizontal-datatable_wrapper" class="dataTables_wrapper dt-bootstrap4 no-footer">
                            <div class="row">
                               
                                <br>
                    
                                <div class="col-sm-12 col-md-3">
                                    <div id="scroll-horizontal-datatable_filter" class="dataTables_filter">
                                        <form id="search"
                                        class="search-coupon"><label>Search:</label><input type="search"
                                                class="form-control form-control-sm" placeholder="Search By Coupon Name"
                                                aria-controls="scroll-horizontal-datatable"></form>
                                    </div><br>
                    
                    
                                </div>
                    
                                <div class="col-sm-12 col-md-3">
                                    <div class="dataTables_length" id="scroll-horizontal-datatable_length">
                                        <label>Sort Coupon Code By:</label>
                                        <select id="type" name="scroll-horizontal-datatable_length"
                                            aria-controls="scroll-horizontal-datatable"
                                            class="custom-select custom-select-sm form-control form-control-sm">
                                            <option value="">Select Coupon Type</option>
                                            <option value="1">Used Coupons</option>
                                            <option value="0">Unused/New Coupons</option>
                    
                                        </select>
                                    </div>
                                </div>
                    
                                <div class="col-sm-12 col-md-3">
                                    <div class="dataTables_length" id="scroll-horizontal-datatable_length">
                                        <label>Reset:</label><br>
                                        <a href="javascript: void(0);" class="btn btn-xs btn-warning reset"><i
                                                class="mdi mdi-delete-forever"></i> Reset
                                            Query</a>
                                    </div>
                                </div>
                                
                                <div class="col-sm-12 col-md-3">
                                    <div class="dataTables_length" id="scroll-horizontal-datatable_length">
                                        <label>Delete Marked:</label><br>
                                        <a id="deleteMarked" href="javascript: void(0);" class="btn btn-xs btn-danger reset">Delete <i class="fa fa-plus-circle" aria-hidden="true"></i></a>
                                    </div>
                                </div>

                                <div class="col-sm-12 col-md-3">
                                    <div class="dataTables_length" id="scroll-horizontal-datatable_length">
                                        <label>Generate Coupon:</label><br>
                                        <a data-toggle="modal" data-target="#createModal" href="javascript: void(0);" class="btn btn-xs btn-info reset">Create Coupon <i class="fa fa-plus-circle" aria-hidden="true"></i></a>
                                    </div>
                                </div>
                                
                                

                            </div>
                            <br>
                        </div>

                    <h5 class="card-header"> </h5>
                    <div class="card-body p-0">
                        <%if(coupons.length> 0){ %>
                            <div class="table-responsive">
                                <table class="table">
                                    <thead class="bg-light">
                                        <tr class="border-0">
                                            <th class="border-0">
                                            
                                                <label class="custom-control custom-checkbox">
                                                    <input id="mark-head" type="checkbox" class="custom-control-input"><span class="custom-control-label"></span>
                                                </label>
                                            
                                            </th>
                                            <th class="border-0">#</th>
                                            <th class="border-0">Code</th>
                                            <th class="border-0">Amount</th>
                                            
                                            <th class="border-0">Status</th>
                                            
                                            
                                            <th class="border-0">Action</th>
        
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <%coupons.map((cp,index)=>{ %>
                                            <tr>
                                                <td>
                                                    <label class="custom-control custom-checkbox">
                                                    <input data-id="<%=cp.c_id%>" id="mark" type="checkbox" class="custom-control-input"><span
                                                        class="custom-control-label"></span>
                                                </label>

                                                </td>
                                                <td>
                                                    <%=index + 1 %>
                                                </td>
        
                                                <td>
                                                    <%=cp.c_code %>
                                                </td>
                                                
                                                <td>
                                                    <%=cp.c_amount %>
                                                </td>
                                                
                                                
        
                                                <td>
                                                    <%if(cp.c_status){%>
                                                    <button type="button" class="btn btn-danger width-sm waves-effect waves-light">Used</button>
                                                    <%}else{%>
                                                    
                                                    <button type="button" class="btn btn-success width-sm waves-effect waves-light">Valid</button>
                                                    
                                                    <%} %>
                                                </td>
        
                                                <td>
                                                    
        
                                                    <a data-id="<%=cp.c_id%>" id="deleteCoupon" href="javascript: void(0);" class="btn btn-xs btn-danger ml-1"><i
                                                            class="fa fa-trash" aria-hidden="true"></i></a>
                                                </td>
        
        
                                            </tr>

                                    

                                            <% }) %>
        
                                                <tr>
                                                    <td colspan="9"></td>
                                                </tr>
                                    </tbody>
        
                                </table>
                                <%-include("../../partials/pagination")%>
                                
        
                            </div>
                            <% }else{%>
                                <h3 class="text-center pt-3">No Coupon At The Moment</h3>
                                <%}%>
                    </div>
                </div>
            </div>
        </div>



        
    </div>

<%-include("./createModal")%>
   

<script src="/admin/js/coupon/coupon.js"></script>
<%-include('../../partials/footer'); %>